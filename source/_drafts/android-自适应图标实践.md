---
title: Android 自适应图标实践
---

自适应图标是 Google 在 Nougat 上发布一项新的应用程序图标协议，旨在统一 Android 设备桌面图标的标准，在不影响原本展示效果的前提下，让桌面（Launcher）能在图标展示统一性上有一定的话语权。
至今，自适应图标已经有两年多的发展了，发现不少应用都已经引入这一项功能，在一些手机桌面上能实现全局替换所有图标的形状，甚至在一些第三方 Launcher 上可以看到 Material Design 中随着手指拖动一起动的图标，效果非常惊艳。
![img](https://developer.android.com/guide/practices/ui_guidelines/images/Single_Icon_Parallax_Demo_01_2x_ext.gif)
在一些我开发的 Android 当中我也切实使用过了这一项功能，这里来展示一下在制作图标中的一些坑。
# 准备工作
## 制作工具
由于 Adaptive Icon 支持使用矢量图标，所以现在目标是制作出 **SVG** 格式的图标
对于没有图标制作经验的开发者来说，直接使用专业的图标绘制工具可能存在一定的困难，我一直以来也只会使用 **Photoshop** 来制作图标，虽然这并不是图标，尤其是矢量图标的最优制作工具。（又不是不能用.jpg)
## 举个栗子
由于现在手头上没有需要制作的图标，这里我选取一下 Telegram 作为栗子，刚好 Telegram 本身不支持自适应图标。
![img](https://wx2.sinaimg.cn/mw690/86dfa6f4gy1ft5smimywej20a909n0ys.jpg)
可以看到和 TelegramX 相比，没有自适应图标的原版 Telegram 显得非常不和谐。
## 构思
这是[文档](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive)里面关于配置自适应图标的一段代码。
```xml
<adaptive-icon>
    <background android:drawable="@color/ic_background"/>
    <foreground android:drawable="@mipmap/ic_foreground"/>
</adaptive-icon>
```
可以看出自适应图标的呈现模式是前景图标+背景的模式，所以在制作的时候就要考虑好哪些元素作为前景，哪些作为背景。
这里，很明显，小飞机显然应该是前景元素，而背景是带有高光区域的蓝色背景。
# 制作图标
## 背景
打开 Photoshop，新建一个空文档，由于是制作矢量图标，所以无所谓画布大小。
这里我新建了一个 **1024 x 1024** 的画布。

# 图标配置
# Android Icon 的一些思考
自适应图标统一了 Android 的图标外观，不同于 iOS 强制的做法，Android 在这方面表现出了一贯开放的作风，给了无论是图标制作者，还是图标呈现者（这里指系统和桌面开发者）更多的创作空间。不管怎么说，我认为这是一个非常优秀的解决方案。
## 图标包开发的黄昏
Android 图标统一正好是一直以来 Android 生态里面一众图标包开发者的目标——通过重绘图标，让第三方桌面来对相应图标进行替换。**但这是一个吃力不讨好的工作**。
### 厂商
一方面的困难来自于原始图标。因为图标制作一方面需要考虑原始图标，原本的颜色，形状，传递的寓意。制作者和用户总是希望能够无痛地过渡到新的设计。而且我向来认为，作为图标重绘者，**有义务尊重原作者的设计**。
另外，出于业务的需求，应用厂商可能时常进行启动图标更新和启动页面更新。如果原始图标进行了大幅度更新，出于对原作者的尊重和对用户负责，就理所应当跟进图标的设计。再说到应用启动页更新，因为配置重绘图标需要精确到对应的类名，所以一旦厂商更新，必须马上跟进，否则图标就无法替换。唯一的解决方案就是使用正传表达式就行匹配，很遗憾，至今仍旧无法实现，这就要说到下面这一点了。
### 生态
这是一个小圈子。有着一批第三方开发者来维护协议，图标包模板，桌面，但是生态一直不完整。就像 markdown 一样图标包是一个开放的协议，各个桌面都有着自己的实现，实现效果和功能不能保证完全相同，哪怕是一家提出了新的功能和方案，也很难让其他桌面开发者跟进，更别说让大多数不懂技术的图标制作者们跟进。时至今日，一切还都是静态配置，还是没有成熟的没有在线 fetch 的动态图标方案，动态配置文件方案，正则表达式配置方案，自适应图标方案。
而大多数图标制作者本身不擅长技术，无法进行定制。对于很多图标制作者来说，在配置图标包模板，图标申请收集管理，自动化生成配置文件等等方面，存在这一系列的麻烦。我自己也在这一方面进行过开发，甚至

我很难说图标包开发是否真的走向了没落，至少对我来说，可能是的。
我已经很久没有使用图标包了，哪怕是我自己开发的。不是因为图标包不好看，而是一切都是静态的，没有生气的，甚至有些“老气”。
我也很难说出口：我就要放弃 Sorcery Icons 了，我曾经在上面花了大量的精力，我是舍不得的。我一直希望我来定制一个桌面，来做一个更强大的桌面，为图标包而生。但是，我很快认识到我自己错了，一个 Launcher 不会因为支持了一套炫酷的图标而被人大量使用，需要的是倾注更多的精力去维护各种附属的功能。我还会尝试寻找其他解决方案，